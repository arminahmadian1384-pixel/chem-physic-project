<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ابزار تعاملی ترمودینامیک و سینتیک</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">

<!-- هدر -->
<header class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 shadow-lg">
  <h1 class="text-3xl font-bold text-center">ابزار تعاملی ترمودینامیک و سینتیک</h1>
  <p class="text-center mt-2">محاسبه ΔG، انرژی گرمایی، سینتیک و نمودارهای تعاملی</p>
</header>

<!-- منو -->
<nav class="bg-indigo-500 text-white p-3 text-center sticky top-0 z-10">
  <a href="#deltaG" class="mx-2 hover:underline">ΔG</a>
  <a href="#heatCalc" class="mx-2 hover:underline">گرما</a>
  <a href="#kinetics" class="mx-2 hover:underline">سینتیک</a>
  <a href="#examples" class="mx-2 hover:underline">مثال‌ها</a>
  <a href="#about" class="mx-2 hover:underline">درباره سایت</a>
</nav>

<!-- ماشین‌حساب ΔG -->
<section id="deltaG" class="max-w-2xl mx-auto my-10 bg-white p-6 rounded-lg shadow-lg">
<h2 class="text-2xl font-bold mb-4 text-indigo-700">ماشین‌حساب ΔG = ΔH - TΔS</h2>

<form id="deltaGForm" class="space-y-4">
  <div>
    <label class="block mb-1 font-semibold">ΔH (kJ/mol)</label>
    <input type="number" step="any" id="deltaH" class="w-full border rounded p-2" value="0">
    <div id="deltaHInfo" class="text-gray-700 text-sm mt-1">ΔH مثبت: گرما جذب می‌شود، منفی: گرما آزاد می‌شود</div>
  </div>
  <div>
    <label class="block mb-1 font-semibold">ΔS (J/mol·K)</label>
    <input type="number" step="any" id="deltaS" class="w-full border rounded p-2" value="0">
    <div id="deltaSInfo" class="text-gray-700 text-sm mt-1">ΔS بیشتر: بی‌نظمی سیستم بیشتر است</div>
  </div>
  <div class="flex items-center gap-3">
    <div class="flex-1">
      <label class="block mb-1 font-semibold">T (K)</label>
      <input type="number" step="any" id="temperatureInput" class="w-full border rounded p-2" value="298">
      <div id="tempInfo" class="text-gray-700 text-sm mt-1">دمای بیشتر باعث افزایش تأثیر ΔS روی ΔG می‌شود</div>
    </div>
    <div class="flex-1">
      <label class="block mb-1 font-semibold">اسلایدر دما</label>
      <input type="range" min="0" max="1000" value="298" id="temperatureSlider" class="w-full">
    </div>
  </div>
  <button type="submit" class="bg-indigo-600 text-white px-5 py-2 rounded hover:bg-indigo-700 transition">محاسبه و رسم نمودار</button>
</form>

<div id="deltaGResult" class="mt-4 text-lg font-semibold text-center text-indigo-800">
  ΔG = --- kJ/mol <br>وضعیت واکنش مشخص نیست
</div>

<div class="mt-6">
  <canvas id="gibbsChart"></canvas>
</div>
<p class="text-gray-700 mt-3">نمودار ΔG از T=0 تا T=1000 K</p>
</section>

<!-- ماشین‌حساب گرما -->
<section id="heatCalc" class="max-w-2xl mx-auto my-10 bg-white p-6 rounded-lg shadow-lg">
<h2 class="text-2xl font-bold mb-4 text-indigo-700">ماشین‌حساب انرژی گرمایی (q = m·c·ΔT)</h2>
<form id="heatForm" class="space-y-4">
  <div>
    <label class="block mb-1 font-semibold">جرم (g)</label>
    <input type="number" step="any" id="mass" class="w-full border rounded p-2" value="0">
    <div id="massInfo" class="text-gray-700 text-sm mt-1">جرم بیشتر → انرژی گرمایی بیشتر</div>
  </div>
  <div>
    <label class="block mb-1 font-semibold">گرمای ویژه (J/g·K)</label>
    <input type="number" step="any" id="specificHeat" class="w-full border rounded p-2" value="0">
    <div id="specificHeatInfo" class="text-gray-700 text-sm mt-1">گرمای ویژه بیشتر → گرم یا سرد شدن سریع‌تر</div>
  </div>
  <div>
    <label class="block mb-1 font-semibold">ΔT (K)</label>
    <input type="number" step="any" id="deltaT" class="w-full border rounded p-2" value="0">
    <div id="deltaTInfo" class="text-gray-700 text-sm mt-1">ΔT بیشتر → انرژی گرمایی بیشتر</div>
  </div>
  <button type="submit" class="bg-indigo-600 text-white px-5 py-2 rounded hover:bg-indigo-700 transition">محاسبه</button>
</form>
<div id="heatResult" class="mt-5 text-lg font-semibold text-center text-indigo-800"></div>
</section>

<!-- شبیه‌ساز سینتیک -->
<section id="kinetics" class="max-w-2xl mx-auto my-10 bg-white p-6 rounded-lg shadow-lg">
<h2 class="text-2xl font-bold mb-4 text-indigo-700">شبیه‌ساز سینتیک واکنش</h2>
<form id="kineticForm" class="space-y-4">
  <div>
    <label class="block mb-1 font-semibold">غلظت اولیه [A]₀ (mol/L)</label>
    <input type="number" step="any" id="conc0" class="w-full border rounded p-2" value="1">
    <div id="conc0Info" class="text-gray-700 text-sm mt-1">غلظت بیشتر → شروع واکنش بزرگتر</div>
  </div>
  <div>
    <label class="block mb-1 font-semibold">ثابت سرعت k (1/s)</label>
    <input type="number" step="any" id="rateConstant" class="w-full border rounded p-2" value="0.1">
    <div id="kInfo" class="text-gray-700 text-sm mt-1">k بیشتر → واکنش سریع‌تر پیش می‌رود</div>
  </div>
  <div>
    <label class="block mb-1 font-semibold">مدت زمان t (s)</label>
    <input type="number" step="any" id="time" class="w-full border rounded p-2" value="50">
    <div id="timeInfo" class="text-gray-700 text-sm mt-1">زمان بیشتر → غلظت کاهش بیشتری پیدا می‌کند</div>
  </div>
  <button type="submit" class="bg-indigo-600 text-white px-5 py-2 rounded hover:bg-indigo-700 transition">محاسبه و رسم نمودار</button>
</form>

<div class="mt-4">
<label class="block font-semibold mb-1">اسلایدر زمان برای مشاهده تغییر [A]</label>
<input type="range" min="0" max="50" value="50" id="timeSlider" class="w-full">
</div>

<div id="kineticResult" class="mt-5 text-lg font-semibold text-center text-indigo-800"></div>
<div class="mt-6">
<canvas id="kineticChart"></canvas>
</div>
</section>

<!-- مثال‌ها -->
<section id="examples" class="max-w-3xl mx-auto my-10">
<h2 class="text-2xl font-bold mb-5 text-indigo-700 text-center">مثال‌ها</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
  <div class="bg-white p-4 rounded-lg shadow hover:shadow-lg transition">
    <h3 class="font-semibold mb-2">مثال ΔG</h3>
    <p>ΔH = -100 kJ/mol, ΔS = 200 J/mol·K, T = 298 K → ΔG = -40.4 kJ/mol (واکنش خودبه‌خودی)</p>
  </div>
  <div class="bg-white p-4 rounded-lg shadow hover:shadow-lg transition">
    <h3 class="font-semibold mb-2">مثال گرما</h3>
    <p>m = 50 g, c = 4.18 J/g·K, ΔT = 20 K → q = 4180 J</p>
  </div>
  <div class="bg-white p-4 rounded-lg shadow hover:shadow-lg transition">
    <h3 class="font-semibold mb-2">مثال سینتیک</h3>
    <p>[A]₀ = 1 mol/L, k = 0.1 1/s, t = 50 s → [A] ≈ 0.0067 mol/L</p>
  </div>
</div>
</section>

<!-- درباره سایت -->
<section id="about" class="max-w-3xl mx-auto my-10 bg-white p-6 rounded-lg shadow-lg">
<h2 class="text-2xl font-bold mb-4 text-indigo-700 text-center">درباره سایت</h2>
<p class="text-gray-700 leading-relaxed">
این سایت یک ابزار تعاملی برای یادگیری ترمودینامیک و سینتیک شیمیایی است.  
می‌توانید ΔG واکنش‌ها را محاسبه کنید و وضعیت خودبه‌خودی بودن آنها را ببینید، انرژی گرمایی واکنش‌ها را محاسبه کنید، و سینتیک واکنش‌ها را با نمودارهای تعاملی تحلیل کنید.  
هدف سایت کمک به یادگیری عملی و درک بهتر مفاهیم شیمی فیزیک برای دانش‌آموزان و دانشجویان است.
</p>
</section>

<!-- فوتر -->
<footer class="bg-gradient-to-r from-indigo-600 to-blue-600 text-white text-center p-5 mt-10">
طراحی شده توسط آرمین احمدیان و مبینا ملکی
</footer>

<script>
// ---------- ΔG ----------
const deltaHInput = document.getElementById('deltaH');
const deltaSInput = document.getElementById('deltaS');
const tempInput = document.getElementById('temperatureInput');
const tempSlider = document.getElementById('temperatureSlider');
const deltaGResult = document.getElementById('deltaGResult');
const deltaHInfo = document.getElementById('deltaHInfo');
const deltaSInfo = document.getElementById('deltaSInfo');
const tempInfo = document.getElementById('tempInfo');

const gibbsCtx = document.getElementById('gibbsChart').getContext('2d');
let gibbsChart = new Chart(gibbsCtx, {
    type: 'line',
    data: { labels: [], datasets: [{ label: 'ΔG (kJ/mol)', data: [], borderColor: 'rgb(79,70,229)', tension:0.3 }] },
    options: { responsive:true, scales:{ x:{ title:{display:true,text:'T (K)'} }, y:{ title:{display:true,text:'ΔG (kJ/mol)'} } } }
});

function updateDG(){
    const H = parseFloat(deltaHInput.value) || 0;
    const S = (parseFloat(deltaSInput.value) || 0)/1000;
    const T = parseFloat(tempInput.value) || 0;
    deltaHInfo.innerHTML = `ΔH = ${H} kJ/mol. ΔH مثبت: گرما جذب، منفی: گرما آزاد`;
    deltaSInfo.innerHTML = `ΔS = ${(S*1000).toFixed(2)} J/mol·K. ΔS بیشتر: بی‌نظمی بیشتر`;
    tempInfo.innerHTML = `T = ${T} K. دمای بیشتر: تأثیر ΔS روی ΔG بیشتر`;
    const G = H - T*S;
    const state = G<0?"واکنش خودبه‌خودی است":"واکنش غیرخودبه‌خودی";
    deltaGResult.innerHTML = `ΔG = ${G.toFixed(2)} kJ/mol <br>${state}`;
}

function updateGChart(){
    const H = parseFloat(deltaHInput.value) || 0;
    const S = (parseFloat(deltaSInput.value) || 0)/1000;
    const labels=[], data=[];
    for(let t=0;t<=1000;t+=10){ labels.push(t); data.push(H - t*S);}
    gibbsChart.data.labels = labels;
    gibbsChart.data.datasets[0].data = data;
    gibbsChart.update();
}

deltaHInput.addEventListener('input', ()=>{ updateDG(); updateGChart(); });
deltaSInput.addEventListener('input', ()=>{ updateDG(); updateGChart(); });
tempInput.addEventListener('input', ()=>{ tempSlider.value=tempInput.value; updateDG(); });
tempSlider.addEventListener('input', ()=>{ tempInput.value=tempSlider.value; updateDG(); });

document.getElementById("deltaGForm").addEventListener("submit", e=>{
    e.preventDefault(); updateDG(); updateGChart();
});

// ---------- گرما ----------
const massInput = document.getElementById('mass');
const specificHeatInput = document.getElementById('specificHeat');
const deltaTInput = document.getElementById('deltaT');
const heatResult = document.getElementById('heatResult');
function updateHeatInfo(){
    const m=parseFloat(massInput.value)||0;
    const c=parseFloat(specificHeatInput.value)||0;
    const dT=parseFloat(deltaTInput.value)||0;
    document.getElementById('massInfo').innerHTML=`جرم: ${m} g. جرم بیشتر → انرژی گرمایی بیشتر`;
    document.getElementById('specificHeatInfo').innerHTML=`گرمای ویژه: ${c} J/g·K. مقدار بیشتر c → گرم/سرد شدن سریع‌تر`;
    document.getElementById('deltaTInfo').innerHTML=`ΔT: ${dT} K. ΔT بیشتر → انرژی گرمایی بیشتر`;
}
massInput.addEventListener('input', updateHeatInfo);
specificHeatInput.addEventListener('input', updateHeatInfo);
deltaTInput.addEventListener('input', updateHeatInfo);

document.getElementById("heatForm").addEventListener("submit", e=>{
    e.preventDefault();
    const q = (parseFloat(massInput.value)||0)*(parseFloat(specificHeatInput.value)||0)*(parseFloat(deltaTInput.value)||0);
    heatResult.innerHTML=`q = ${q.toFixed(2)} J`;
});

// ---------- سینتیک ----------
const conc0Input = document.getElementById('conc0');
const kInput = document.getElementById('rateConstant');
const timeInput = document.getElementById('time');
const kineticResult = document.getElementById('kineticResult');
const kineticCtx = document.getElementById('kineticChart').getContext('2d');
const timeSlider = document.getElementById('timeSlider');

let kineticChart = new Chart(kineticCtx, {
    type:'line',
    data:{ labels:[], datasets:[{ label:'[A] (mol/L)', data:[], borderColor:'rgb(79,70,229)', backgroundColor:'rgba(79,70,229,0.1)', fill:true, tension:0.3, pointRadius:3 }] },
    options:{ responsive:true, scales:{ x:{title:{display:true,text:'زمان (s)'}}, y:{title:{display:true,text:'غلظت [A] (mol/L)'}}} }
});

let kineticData = {labels:[], data:[], A0:1, k:0.1};

function updateKinetic(){
    const A0=parseFloat(conc0Input.value)||0;
    const k=parseFloat(kInput.value)||0;
    const tMax=parseFloat(timeInput.value)||50;
    kineticData.A0=A0; kineticData.k=k;
    kineticData.labels=[]; kineticData.data=[];
    for(let t=0;t<=tMax;t++){ kineticData.labels.push(t); kineticData.data.push(A0*Math.exp(-k*t));}
    kineticChart.data.labels = kineticData.labels;
    kineticChart.data.datasets[0].data = kineticData.data;
    kineticChart.update();
    kineticResult.innerHTML=`غلظت نهایی [A] = ${(A0*Math.exp(-k*tMax)).toFixed(4)} mol/L`;
    timeSlider.max=tMax;
    timeSlider.value=tMax;
}

conc0Input.addEventListener('input', updateKinetic);
kInput.addEventListener('input', updateKinetic);
timeInput.addEventListener('input', updateKinetic);

timeSlider.addEventListener('input', ()=>{
    const t = parseFloat(timeSlider.value);
    const data = kineticData.data.map((val,i)=> kineticData.labels[i]<=t?val:null);
    kineticChart.data.datasets[0].data = data;
    kineticChart.update();
});

document.getElementById("kineticForm").addEventListener("submit", e=>{
    e.preventDefault(); updateKinetic();
});

// مقداردهی اولیه
updateDG(); updateGChart(); updateHeatInfo(); updateKinetic();
</script>

</body>
</html>
